name: CI

on: 
  workflow_dispatch: {}
  push: {}

jobs:
  has-releasw:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          path: cocogitto-action
      - name: Initialise repository
        run: |
          git init
          echo "# Mona Lisa" > README.md
          git config --global user.name "Mona Lisa"
          git config --global user.email "mona.lisa@example.com"
          git add README.md
          git commit -m "feat: add Mona Lisa docs"
      - name: Run cocogitto-action
        id: release
        uses: ./cocogitto-action
      - name: Check version
        run: |
          echo ${{ steps.release.outputs.version }}
